setwd("~/GitHub/JOUR472/reverseengineering")
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse, janitor and ggplot
library(tidyverse)
library(janitor)
library(ggplot2)
# Total payouts by department
department_totals <- read.csv("department-totals.csv")
# Total payouts by case
type_totals <- read.csv("type-totals.csv")
# Cleaned case types data
case_types <- read.csv("casetypes.csv")
# Cleaned department data
departments <- read.csv("departments.csv")
View(case_types)
View(department_totals)
View(departments)
View(type_totals)
# Total payouts by year
payouts <- read.csv("payouts.csv")
# Total payouts by department
department_totals <- read.csv("department-totals.csv")
# Total payouts by case
type_totals <- read.csv("type-totals.csv")
# Cleaned case types data
case_types <- read.csv("casetypes.csv")
# Cleaned department data
departments <- read.csv("departments.csv")
View(payouts)
View(case_types)
# Total payouts by year
payouts <- read.csv("payouts.csv")
# Total payouts by department
department_totals <- read.csv("department-totals.csv")
# Total payouts by case
type_totals <- read.csv("type-totals.csv")
# Cleaned case types data
case_types <- read.csv("casetypes.csv")
# Cleaned department data
departments <- read.csv("departments.csv")
View(payouts)
# Total payouts by year
payouts <- read.csv("payouts.csv")
# Total payouts by department
department_totals <- read.csv("department-totals.csv")
# Total payouts by case
type_totals <- read.csv("type-totals.csv")
# Cleaned case types data
case_types <- read.csv("casetypes.csv")
# Cleaned department data
departments <- read.csv("departments.csv")
View(payouts)
payouts %>%
ggplot() +
geom_bar(aes(x=FISCAL.YEAR, weight=TOTAL))
payouts %>%
ggplot() +
geom_bar(aes(x=FISCAL.YEAR, weight=n))
payouts %>%
ggplot() +
geom_bar(aes(x=FISCAL.YEAR, weight=TOTAL))
View(type_totals)
# Total payouts by year
payouts <- read.csv("payouts.csv")
# Total payouts by department
department_totals <- read.csv("department-totals.csv")
# Total payouts by case
type_totals <- read.csv("type-totals.csv")
# Cleaned case types data
case_types <- read.csv("casetypes.csv")
# Cleaned department data
departments <- read.csv("departments.csv")
View(payouts)
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=n))
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=count))
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=count))
# Total payouts by year
payouts <- read.csv("payouts.csv")
# Total payouts by department
department_totals <- read.csv("department-totals.csv")
# Total payouts by case
type_totals <- read.csv("type-totals.csv")
# Cleaned case types data
case_types <- read.csv("casetypes.csv")
# Cleaned department data
departments <- read.csv("departments.csv")
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))
glimpse(payouts)
payouts <- payouts %>%
mutate(total = as.numeric(total))
glimpse(payouts)
# Total payouts by year
payouts <- read.csv("payouts.csv")
# Total payouts by department
department_totals <- read.csv("department-totals.csv")
# Total payouts by case
type_totals <- read.csv("type-totals.csv")
# Cleaned case types data
case_types <- read.csv("casetypes.csv")
# Cleaned department data
departments <- read.csv("departments.csv")
payouts <- payouts %>%
mutate(total = as.numeric(total))
View(payouts)
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))
labs(subtitle="Los Angeles, 2005-2018",
y="Total Payouts (in $)",
x="Year"
title="Total Legal Payouts",
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))
labs(subtitle="Los Angeles, 2005-2018",
y="Total Payouts (in $)",
x="Year",
title="Total Legal Payouts",
caption = "Graphic by Matt Haraden")
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))+
labs(subtitle="Los Angeles, 2005-2018",
y="Total Payouts (in $)",
x="Year",
title="Total Legal Payouts",
caption = "Graphic by Matt Haraden")
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))+
labs(subtitle="Los Angeles, 2005-2018",
y="Total Payouts (in $)",
x="Year",
title="Total cost of Legal Payouts",
caption = "Graphic by Matt Haraden")
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))+
labs(subtitle="Los Angeles, 2005-2018",
y="Total Payouts (in $)",
x="Year",
title="Total cost of Legal Payouts",
caption = "(2018 is a projection")
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))+
labs(subtitle="Los Angeles, 2005-2018",
y="Total Payouts (in $)",
x="Year",
title="Total cost of Legal Payouts",
caption = "(2018 is a projection)"
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))+
labs(subtitle="Los Angeles, 2005-2018",
y="Total Payouts (in $)",
x="Year",
title="Total cost of Legal Payouts",
caption = "2018 is a projection"
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))+
labs(subtitle="Los Angeles, 2005-2018",
y="Total Payouts (in $)",
x="Year",
title="Total cost of Legal Payouts",
caption = "2018 is a projected number")
View(type_totals)
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))+
labs(subtitle="Los Angeles, 2005-2018",
y="Total Payouts (in $)",
x="Year",
title="Total cost of Legal Payouts",
caption = "2018 is a projected number")
payouts <- payouts %>%
mutate(total = as.numeric(total))
View(payouts)
View(department_totals)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse, janitor and ggplot
library(tidyverse)
library(janitor)
library(ggplot2)
# Total payouts by year
payouts <- read.csv("payouts.csv")
# Total payouts by department
department_totals <- read.csv("department-totals.csv")
# Total payouts by case
type_totals <- read.csv("type-totals.csv")
# Cleaned case types data
case_types <- read.csv("casetypes.csv")
# Cleaned department data
departments <- read.csv("departments.csv")
View(payouts)
payouts <- payouts %>%
mutate(total = as.numeric(total))
payouts %>%
ggplot() +
geom_bar(aes(x=year, weight=total))+
labs(subtitle="Los Angeles, 2005-2018",
y="Total Payouts (in $)",
x="Year",
title="Total cost of Legal Payouts",
caption = "2018 is a projected number")
View(payouts)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse, janitor and ggplot
library(tidyverse)
library(janitor)
library(ggplot2)
# Top 3 types of cases
type_totals_top_number <- type_totals %>%
select(latimes_type, number, number_percent) %>%
slice_max(number, n=3)
# Total payouts by year
payouts <- read.csv("payouts.csv") %>%
clean_names()
payouts$total <- gsub("[[:punct:]]", "", payouts$total)
# Total payouts by department
department_totals <- read.csv("department-totals.csv")
# Total payouts by case
type_totals <- read.csv("type-totals.csv")
# Cleaned case types data
case_types <- read.csv("casetypes.csv")
# Cleaned department data
departments <- read.csv("departments.csv")
# Top 3 types of cases
type_totals_top_number <- type_totals %>%
select(latimes_type, number, number_percent) %>%
slice_max(number, n=3)
# All other types combined
type_totals_number_other <- type_totals %>%
select(latimes_type, number, number_percent) %>%
mutate(
other_type = case_when(
number < 1000 ~ "OTHER",
number > 1000 ~ latimes_type
)
# Dataframe of other types not in the top 3
other_types_number <- type_totals_number_other %>%
select(latimes_type, number, number_percent, other_type) %>%
filter(other_type == "OTHER")
# Sum of all other types
sum(other_types_number$number)
# Sum of all other types percent
sum(other_types_number$number_percent)
# Dataframe with the top 3 types with the highest number of cases and all other types combined
type_totals_number_condensed <- type_totals_top_number %>%
add_row(latimes_type="OTHER", number=2521, number_percent=0.1348056)
# Bar graph of top 3 types with the highest number of cases and all other cases combined
type_totals_number_condensed %>%
ggplot() +
geom_bar(aes(x=reorder(latimes_type, number), weight=number)) +
coord_flip() +
labs(subtitle="Los Angeles, 2005-2018",
y="Total Number of Cases",
x="Type of Case",
title="Total Number of Cases by Type",
caption = "Graphic by Kevin McNulty")
View(type_totals_number_other)
